- [Requirements](#Requirements)
- [Description](#Description)
- [Running vagrant](#Running-vagrant)
- [Inventory File for Ansible](#Inventory-File-for-Ansible)

# Requirements

- virtualbox
- Vagrant 2.2.x

# Description

Vagrant will create 3 CentOS servers, you can override all the settings in `vagrant_config.rb`

After vagrant finishes creating 3 CentOS servers, it will create ansible inventory file and will run a simple playbook.yml

# Running vagrant

- `vagrant up` will create 3 virtual servers
- `vagrant destroy` will destroy virtual servers

# Inventory File for Ansible

The ansible file looks the following:

```
# Generated by Vagrant

k8s-master1 ansible_host=127.0.0.1 ansible_port=2222 ansible_user='vagrant' ansible_ssh_private_key_file='/Users/pawel.kilian/GIT/mcds/bre/ansible-k8s/.vagrant/machines/k8s-master1/virtualbox/private_key' ansible_host=172.16.35.11 ansible_port=22

[k8s-main]
k8s-master1

[k8s-masters]
k8s-master[2:3]

[all_groups:children]
k8s-main
k8s-masters
```

We need one `k8s-main` group so we can get kubernetes token and join other notes to this specific first node
